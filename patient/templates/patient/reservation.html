{% extends 'patient/base_layout.html' %}

{% block headers %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'patient/reservation.css' %}">
{% endblock %}

{% block content %}

    <h3 style="text-align: right; padding: 10px; position: relative">زمان‌های رزرو دکتر {{doctor.first_name}} {{doctor.last_name}} </h3>
    <div class="reservations" style="padding-left: 10px;">
        <nav aria-label="...">
            <ul class="pagination pagination-lg" >
                <li class="page-item" style="text-align: center"><a class="page-link" href="{% url 'patient:reservation' day=6 doctor_id=doctor.pk %}">{{ week_days.6 }}<p>{{reserve_date.6.year}}-{{ reserve_date.6.month }}-{{ reserve_date.6.day }}</p></a></li>
                <li class="page-item" style="text-align: center"><a class="page-link" href="{% url 'patient:reservation' day=5 doctor_id=doctor.pk %}">{{ week_days.5 }}<p>{{reserve_date.5.year}}-{{ reserve_date.5.month }}-{{ reserve_date.5.day }}</p></a></li>
                <li class="page-item" style="text-align: center"><a class="page-link" href="{% url 'patient:reservation' day=4 doctor_id=doctor.pk %}">{{ week_days.4 }}<p>{{reserve_date.4.year}}-{{ reserve_date.4.month }}-{{ reserve_date.4.day }}</p></a></li>
                <li class="page-item" style="text-align: center"><a class="page-link" href="{% url 'patient:reservation' day=3 doctor_id=doctor.pk %}">{{ week_days.3 }}<p>{{reserve_date.3.year}}-{{ reserve_date.3.month }}-{{ reserve_date.3.day }}</p></a></li>
                <li class="page-item" style="text-align: center"><a class="page-link" href="{% url 'patient:reservation' day=2 doctor_id=doctor.pk %}">{{ week_days.2 }}<p>{{reserve_date.2.year}}-{{ reserve_date.2.month }}-{{ reserve_date.2.day }}</p></a></li>
                <li class="page-item" style="text-align: center"><a class="page-link" href="{% url 'patient:reservation' day=1 doctor_id=doctor.pk %}">{{ week_days.1 }}<p>{{reserve_date.1.year}}-{{ reserve_date.1.month }}-{{ reserve_date.1.day }}</p></a></li>
                <li class="page-item" style="text-align: center"><a class="page-link" href="{% url 'patient:reservation' day=0 doctor_id=doctor.pk %}">{{ week_days.0 }}<p>{{reserve_date.0.year}}-{{ reserve_date.0.month }}-{{ reserve_date.0.day }}</p></a></li>
            </ul>
        </nav>

        <ul class = "list-group">
            <li class="list-group-item active">
                {{date.year}}-{{ date.month }}-{{ date.day }}
                {% if date.weekday == 0 %}
                    شنبه
                {% endif %}
                {% if date.weekday == 1 %}
                    یک‌شنبه
                {% endif %}
                {% if date.weekday == 2 %}
                    دو‌شنبه
                {% endif %}
                {% if date.weekday == 3 %}
                    سه‌شنبه
                {% endif %}
                {% if date.weekday == 4 %}
                    چهار‌شنبه
                {% endif %}
                {% if date.weekday == 5 %}
                  پنج شنبه
                {% endif %}
                {% if date.weekday == 6 %}
                    ‌جمعه
                {% endif %}

            </li>
            {% if not reservations %}
                <li class="list-group-item">
                زمانی برای این روز ایجاد نشده است
                </li>
            {% endif %}
            {% for reservation in reservations %}
                <li class="list-group-item">

                    ساعت {{ reservation.start_time.hour }}:{{ reservation.start_time.minute }} تا {{ reservation.end_time.hour }}:{{ reservation.end_time.minute }}
                    {% if not reservation.patient == None%}
                        {%if reservation.patient == patient%}
                        <p style="color: grey; display: inline; padding-right: 20px;"> رزرو شده توسط شما </p>
                        {%else%}
                        <p style="color: grey; display: inline; padding-right: 20px;">رزرو شده</p>
                        {% endif %}

                      
                    {% endif %}
                    {%if reservation.patient == None%}
                      <a href="{% url 'patient:reserve_time' reservation_id=reservation.pk doctor_id=doctor.pk %}" style="color:green; padding-right: 20px" > رزرو</a>
                    {%endif%}
                </li>
            {% endfor %}
        </ul>
    </div>
    <div style="text-align: right" class="add_reservation">
    </div>


{% endblock %}
